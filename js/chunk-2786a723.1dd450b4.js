(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2786a723"],{"0661":function(t,a,s){"use strict";var e=s("295c"),i=s.n(e);i.a},"159b":function(t,a,s){var e=s("da84"),i=s("fdbc"),r=s("17c2"),o=s("9112");for(var n in i){var c=e[n],l=c&&c.prototype;if(l&&l.forEach!==r)try{o(l,"forEach",r)}catch(v){l.forEach=r}}},"17c2":function(t,a,s){"use strict";var e=s("b727").forEach,i=s("b301");t.exports=i("forEach")?function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"20a4":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"details-move",attrs:{id:this.detamoves.id},on:{scroll:function(a){return t.getScroll()}}},[s("div",{staticClass:"details-header"},[s("van-nav-bar",{attrs:{title:"电影详情","left-arrow":"",border:!1},on:{"click-left":t.back}},[s("van-icon",{attrs:{slot:"right",name:"share",size:"20px",color:"white"},slot:"right"}),s("van-icon",{attrs:{slot:"left",name:"arrow-left",size:"19px",color:"white"},slot:"left"})],1)],1),s("div",{staticClass:"deta-return"}),s("div",{staticClass:"class-moves"},[s("div",{staticClass:"moves-message"},[s("div",{staticClass:"moves-fonte"},[s("div",{staticClass:"fonte-heard"},[s("div",{staticClass:"heard-img"},[s("img",{attrs:{src:this.detamoves.images.small}})]),s("div",{staticClass:"heard-fr-text"},[s("p",{staticClass:"text-fo1"},[t._v(t._s(this.detamoves.title))]),s("p",{staticClass:"text-fo2"},[t._v(t._s(this.detamoves.original_title))]),s("div",{staticClass:"text-fo3"},[s("p",[t._v("类型:"+t._s(this.detamoves.genresInfo))]),s("p",[t._v("影片时长:"+t._s(this.detamoves.hour)+"小时"+t._s(this.detamoves.minute)+"分钟")]),s("p",[t._v(t._s(this.detamoves.pubdate)+"在中国上映")])])])]),s("div",{staticClass:"fonte-bottom"},[s("div",{staticClass:"evaluate-lt"},[s("div",{staticClass:"evaluate-title"},[s("span",[t._v("淘票票评分")]),s("span",[t._v(" 查看评价 "),s("van-icon",{attrs:{name:"arrow",size:"10",color:"#c3c6cc"}})],1)]),s("div",{staticClass:"evaluate-text"},[s("div",{staticClass:"evaluate-fl"},[s("span",[t._v(t._s(this.detamoves.rating.average))]),s("div",{staticClass:"grade-tol"},[s("div",{staticClass:"rangking-grade"},[s("el-rate",{attrs:{disabled:"","disabled-void-color":"#CFD0D1","score-template":"{value}"},model:{value:this.detamoves.evaluate,callback:function(a){t.$set(this.detamoves,"evaluate",a)},expression:"this.detamoves.evaluate"}})],1),s("div",{staticClass:"pingfen"},[t._v(t._s(this.detamoves.ratings_count)+"条评分")])])]),s("div",{staticClass:"evaluate-fr"},[s("div",{staticClass:"grade-plan"},[s("span",[t._v("9-10分")]),s("van-progress",{attrs:{percentage:12,"show-pivot":!1}}),s("span",[t._v("82%")])],1),s("div",{staticClass:"grade-plan"},[s("span",[t._v("5-8分")]),s("van-progress",{attrs:{percentage:72,"show-pivot":!1}}),s("span",[t._v("82%")])],1),s("div",{staticClass:"grade-plan"},[s("span",[t._v("1-4分")]),s("van-progress",{attrs:{percentage:8,"show-pivot":!1}}),s("span",[t._v("82%")])],1)])])]),s("div",{staticClass:"evaluate-rt"},[s("div",{staticClass:"evaluate-logo"},[s("van-icon",{attrs:{name:t.iconn,color:t.iconcolor,size:"20","v-model":t.show},on:{click:function(a){return t.join(t.iconn,t.show)}}}),s("span",[t._v("想看")])],1),s("div",{staticClass:"evaluate-logo"},[s("van-icon",{attrs:{name:"star-o",size:"20"}}),s("span",[t._v("看过")])],1),s("div",{staticClass:"evaluate-logo"},[s("van-icon",{attrs:{name:"edit",size:"20"}}),s("span",[t._v("点评")])],1)])])])]),s("div",{staticClass:"scenario"},[s("div",{staticClass:"scenario-title"},[t._v("剧情简介")]),s("div",{staticClass:"scenario-text"},[s("div",{staticClass:"scenario-text1",style:{display:t.display}},[t._v(t._s(this.detamoves.summary))]),s("span",{staticClass:"unfold",on:{click:function(a){return t.changeDisplay(t.display)}}},[t._v(t._s(this.name))])])]),s("div",{staticClass:"actor-star"},[s("div",{staticClass:"about-head"},[t._m(0),s("div",{staticClass:"sp2"},[s("span",[t._v(t._s(this.detamoves.starindex1)+"位演员")]),s("van-icon",{attrs:{name:"arrow",size:"8",color:"#DFE1E6"}})],1)]),s("div",{staticClass:"star-uls"},[s("ul",{style:{width:this.maxsaw1+this.maxsaw2+"px"}},[t._l(this.detamoves.writers,(function(a,e){return s("li",{key:"1"+e,ref:"listw1",refInFor:!0},[s("div",{staticClass:"star-img"},[s("img",{attrs:{src:a.avatars.small}})]),s("div",{staticClass:"star-name"},[s("p",[t._v(t._s(a.name))]),s("p",[t._v("导演")])])])})),t._l(this.detamoves.casts,(function(a,e){return s("li",{key:"2"+e,ref:"listw1",refInFor:!0},[s("div",{staticClass:"star-img"},[s("img",{attrs:{src:a.avatars.small}})]),s("div",{staticClass:"star-name"},[s("p",[t._v(t._s(a.name))]),s("p",[t._v("演员")])])])}))],2)])]),s("div",{staticClass:"prevue"},[s("div",{staticClass:"about-head"},[t._m(1),s("div",{staticClass:"sp2"},[s("span",[t._v(t._s(this.detamoves.starindex2)+"张剧照")]),s("van-icon",{attrs:{name:"arrow",size:"8",color:"#DFE1E6"}})],1),s("div",{staticClass:"stage-moves"},[s("ul",{style:{width:this.maxsaw3+this.maxsaw4+"px"}},[t._l(this.detamoves.trailers,(function(a,e){return s("li",{key:"1"+e,ref:"listw3",refInFor:!0,staticClass:"detamoves",attrs:{id:a.id},on:{click:function(s){return t.getvideo({name:"videot",vocat:{id:a.id}})}}},[s("img",{attrs:{src:a.small}}),s("van-icon",{attrs:{name:"play-circle-o",color:"white",size:"40"}})],1)})),t._l(this.detamoves.photos,(function(t,a){return s("li",{key:"2"+a,ref:"listw3",refInFor:!0,attrs:{id:t.id}},[s("img",{attrs:{src:t.cover}})])}))],2)])])]),s("div",{staticClass:"fir-review"},[s("div",{staticClass:"about-head"},[t._m(2),s("div",{staticClass:"sp2"},[s("span",[t._v(t._s(this.detamoves.starindex3)+"条评论")]),s("van-icon",{attrs:{name:"arrow",size:"8",color:"#DFE1E6"}})],1)]),s("div",{staticClass:"review"},[s("div",{staticClass:"review-li"},[s("van-skeleton",{attrs:{title:"",avatar:"",row:3,loading:t.loading}},t._l(this.detamoves.popular_reviews,(function(a,e){return s("div",{key:e,staticClass:"review-list",attrs:{id:a.id}},[s("div",{staticClass:"review-img"},[s("img",{attrs:{src:a.author.avatar}})]),s("div",{staticClass:"review-text"},[s("h3",[t._v(t._s(a.author.name))]),s("div",{staticClass:"review-lis"},[s("el-rate",{attrs:{disabled:"","show-score":"","text-color":"#ff9900","disabled-void-color":"#CFD0D1","score-template":"{value}"},model:{value:a.rating.value,callback:function(s){t.$set(a.rating,"value",s)},expression:"item.rating.value"}})],1),s("div",{staticClass:"review-txt"},[t._v(t._s(a.summary))])]),s("div",{staticClass:"review-timer"},[s("div",{staticClass:"timer-fl"},[s("span",[t._v("02-05")]),s("span",[t._v("12:05")])]),s("div",{staticClass:"timer-fr"},[s("div",{staticClass:"logo1"},[s("van-icon",{attrs:{name:"good-job-o",size:"20"}}),s("span",[t._v("999")])],1),s("div",{staticClass:"logo1"},[s("van-icon",{attrs:{name:"chat-o",size:"20"}}),s("span",[t._v("999")])],1)])])])})),0)],1)])]),s("div",{staticClass:"V-comment"},[s("div",{staticClass:"about-head"},[t._m(3),s("div",{staticClass:"sp2"},[s("span",[t._v(t._s(this.detamoves.starindex4)+"条大V评论")]),s("van-icon",{attrs:{name:"arrow",size:"8",color:"#DFE1E6"}})],1)]),s("div",{staticClass:"V-carousel"},[s("ul",{style:{width:this.maxsaw5+"px"}},t._l(this.detamoves.popular_comments,(function(a,e){return s("li",{key:e,ref:"listw4",refInFor:!0,attrs:{id:a.id}},[s("div",{staticClass:"carousel-portrait"},[s("div",{staticClass:"protrait-fl"},[s("div",{staticClass:"portrait"},[s("img",{attrs:{src:a.author.avatar}})]),s("div",{staticClass:"portrait-text"},[s("h2",[t._v(t._s(a.author.name))]),s("p",[t._v("大V")])])]),s("div",{staticClass:"protrait-fr"},[s("span",[t._v(t._s(a.rating.value)+".0")])])]),s("div",{staticClass:"carousel-text"},[t._v(t._s(a.content))])])})),0)])]),t._m(4)])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"sp1"},[s("span",[t._v("演职人员")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"sp1"},[s("span",[t._v("预告片/剧照")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"sp1"},[s("span",[t._v("观众影评")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"sp1"},[s("span",[t._v("大V评论")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"choose-eat"},[s("div",{staticClass:"eat-btn"},[t._v("特惠选座")])])}],r=(s("4160"),s("a15b"),s("fb6a"),s("a434"),s("b0c0"),s("e25e"),s("159b"),{name:"detailsv",data:function(){return{display:"-webkit-box",iconn:"like-o",iconcolor:"black",name:"展开",loading:!1,show:!1,detamoves:"",starindex1:0,starindex2:0,starindex3:0,starindex4:0,maxsaw1:0,maxsaw2:0,maxsaw3:0,maxsaw4:0,maxsaw5:0,changValue:null}},methods:{back:function(){this.$router.go(-1)},getvideo:function(t){this.$router.push(t),localStorage.setItem("videoID",t.vocat.id)},changeDisplay:function(t){return this.display="block"==t?"-webkit-box":"block",this.name="block"==t?"展开":"收起"},Detamove:function(){var t=this;this.$toast.loading({duration:0,message:"加载中..."});var a=this.$route.params.id;localStorage.setItem("MovesID",a),this.axios({method:"GET",url:"https://douban.uieee.com/v2/movie/subject/"+a}).then((function(a){a.data.genresInfo=a.data.genres.join(" 、"),a.data.hour=parseInt(a.data.durations[0].slice(0,-2)/60),a.data.minute=a.data.durations[0].slice(0,-2)%60,a.data.evaluate=a.data.rating.average/2,a.data.starindex1=0,a.data.casts.forEach((function(t){a.data.starindex1+=1})),a.data.starindex2=0,a.data.photos.forEach((function(t){a.data.starindex2+=1})),a.data.starindex4=0,a.data.popular_reviews.forEach((function(t){a.data.starindex3+=1})),a.data.starindex4=0,a.data.popular_comments.forEach((function(t){a.data.starindex4+=1})),setTimeout((function(){t.changValue=1,t.$nextTick((function(){var s=t.$refs.listw1[0].clientWidth+20;t.maxsaw1=s*a.data.writers.length,t.maxsaw2=s*a.data.casts.length;var e=t.$refs.listw3[0].clientWidth+10;t.maxsaw3=e*a.data.trailers.length,t.maxsaw4=e*a.data.photos.length;var i=t.$refs.listw4[0].clientWidth+20;t.maxsaw5=i*a.data.popular_comments.length}))}),100),localStorage.setItem("detamove",JSON.stringify(a.data)),t.detamoves=a.data,t.$toast.clear()})).catch((function(a){t.$toast.clear()}))},join:function(t,a){this.iconn="like"==t?"like-o":"like",this.iconcolor="like"==t?"black":"red",this.show=0==a;var s=localStorage.getItem("user");if(s){if(s=JSON.parse(s),!s.isLogin)return this.$toast({message:"请先去登录"}),this.$router.push({name:"register"});var e=localStorage.getItem("likemoves");e=e?JSON.parse(e):{};var i=e[s.username];if(i||(e[s.username]=[]),this.detamoves.show=this.show,this.show){for(var r=0;r<e[s.username].length;r++)if(e[s.username][r].id==this.detamoves.id)return;e[s.username].unshift(this.detamoves),localStorage.setItem("likemoves",JSON.stringify(e)),this.$toast({message:"已加入收藏"})}else{for(var o=0;o<e[s.username].length;o++)e[s.username][o].id==this.detamoves.id&&e[s.username].splice(o,1);localStorage.setItem("likemoves",JSON.stringify(e)),this.$toast({message:"已取消加入收藏"})}}else this.$toast({message:"请登录"}),this.$router.push({name:"register"})}},created:function(){this.Detamove();var t=JSON.parse(localStorage.getItem("user")),a=JSON.parse(localStorage.getItem("detamove")),s=localStorage.getItem("likemoves");s=s?JSON.parse(s):{};var e=s[t.username];if(s)for(var i=0;i<e.length;i++){if(e[i].id==a.id)return this.detamoves=e[i],this.show=!0,this.iconn="like",void(this.iconcolor="red");this.show=!1,this.iconn="like-o",this.iconcolor="black"}}}),o=r,n=(s("0661"),s("2877")),c=Object(n["a"])(o,e,i,!1,null,null,null);a["default"]=c.exports},"295c":function(t,a,s){},4160:function(t,a,s){"use strict";var e=s("23e7"),i=s("17c2");e({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},5899:function(t,a){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,a,s){var e=s("1d80"),i=s("5899"),r="["+i+"]",o=RegExp("^"+r+r+"*"),n=RegExp(r+r+"*$"),c=function(t){return function(a){var s=String(e(a));return 1&t&&(s=s.replace(o,"")),2&t&&(s=s.replace(n,"")),s}};t.exports={start:c(1),end:c(2),trim:c(3)}},a15b:function(t,a,s){"use strict";var e=s("23e7"),i=s("44ad"),r=s("fc6a"),o=s("b301"),n=[].join,c=i!=Object,l=o("join",",");e({target:"Array",proto:!0,forced:c||l},{join:function(t){return n.call(r(this),void 0===t?",":t)}})},b0c0:function(t,a,s){var e=s("83ab"),i=s("9bf2").f,r=Function.prototype,o=r.toString,n=/^\s*function ([^ (]*)/,c="name";!e||c in r||i(r,c,{configurable:!0,get:function(){try{return o.call(this).match(n)[1]}catch(t){return""}}})},b301:function(t,a,s){"use strict";var e=s("d039");t.exports=function(t,a){var s=[][t];return!s||!e((function(){s.call(null,a||function(){throw 1},1)}))}},b727:function(t,a,s){var e=s("f8c2"),i=s("44ad"),r=s("7b0b"),o=s("50c4"),n=s("65f0"),c=[].push,l=function(t){var a=1==t,s=2==t,l=3==t,v=4==t,d=6==t,u=5==t||d;return function(m,f,h,p){for(var g,_,C=r(m),w=i(C),x=e(f,h,3),b=o(w.length),k=0,S=p||n,y=a?S(m,b):s?S(m,0):void 0;b>k;k++)if((u||k in w)&&(g=w[k],_=x(g,k,C),t))if(a)y[k]=_;else if(_)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:c.call(y,g)}else if(v)return!1;return d?-1:l||v?v:y}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},e25e:function(t,a,s){var e=s("23e7"),i=s("e583");e({global:!0,forced:parseInt!=i},{parseInt:i})},e583:function(t,a,s){var e=s("da84"),i=s("58a8").trim,r=s("5899"),o=e.parseInt,n=/^[+-]?0[Xx]/,c=8!==o(r+"08")||22!==o(r+"0x16");t.exports=c?function(t,a){var s=i(String(t));return o(s,a>>>0||(n.test(s)?16:10))}:o},fb6a:function(t,a,s){"use strict";var e=s("23e7"),i=s("861d"),r=s("e8b5"),o=s("23cb"),n=s("50c4"),c=s("fc6a"),l=s("8418"),v=s("1dde"),d=s("b622"),u=d("species"),m=[].slice,f=Math.max;e({target:"Array",proto:!0,forced:!v("slice")},{slice:function(t,a){var s,e,v,d=c(this),h=n(d.length),p=o(t,h),g=o(void 0===a?h:a,h);if(r(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!r(s.prototype)?i(s)&&(s=s[u],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return m.call(d,p,g);for(e=new(void 0===s?Array:s)(f(g-p,0)),v=0;p<g;p++,v++)p in d&&l(e,v,d[p]);return e.length=v,e}})},fdbc:function(t,a){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-2786a723.1dd450b4.js.map